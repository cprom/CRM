@page
@using CRM.Models
@model CRM.Pages.Clients
@{
    ViewData["Title"] = "Clients List";
}

<div class="d-flex justify-content-between">
<h1>@ViewData["Title"]</h1>

</div>
<div class="d-flex justify-content-end">
    <a asp-page="/AddNewClient"><button type="button" class="btn btn-dark">Add New Client</button></a>
</div>
<div class="mt-3">
    <table class="table table-hover">
        <thead>
        <tr>
            <th>ID</th>
            <th>Name</th>
            <th>Email</th>
            <th>Phone</th>
            <th>Status</th>
            <th>Source</th>
            <th>Agent</th>
            <th>Action</th>                
        </tr>
        </thead>

        @foreach(var client in Model.ClientList)
        {
            <tbody>
                <tr>
                    <td>@client.Id</td>
                    <td>@client.FirstName @client.LastName</td>
                    <td><a href=mailto:{@client.Email}>@client.Email</a></td>
                    <td>@client.Phone</td>
                    <td>@client.Status</td>
                    <td>@client.Source</td>
                    <td>@client.AssignedAgentId</td>
                    <td>
                       <button type="button" class="btn btn-dark btn-sm" data-toggle="tooltip" data-placement="bottom" title="View Client Details"><i class="bi bi-eye"></i></button>
                         <a asp-page="/EditClient" asp-route-id="@client.Id"><button type="button" class="btn btn-dark btn-sm" data-toggle="tooltip" data-placement="bottom" title="Edit Client"><i class="bi bi-pen"></i></button></a>
                        <button type="button" class="btn btn-dark btn-sm ml-4" data-toggle="tooltip" data-placement="bottom" title="Delete Client"><i class="bi bi-trash"></i></button>
                    </td>
                </tr>
            </tbody>
        }
    </table>
</div>
